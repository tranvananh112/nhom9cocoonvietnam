<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gi·ªè h√†ng - Cocoon">
    <title>Gi·ªè H√†ng - Cocoon</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="index.html" class="logo">
                <span>üåø</span>
                <div class="logo-text">
                    <strong>The Cocoon</strong>
                    <small>ORIGINAL VIETNAM</small>
                </div>
            </a>
            <nav>
                <a href="index.html">Trang Ch·ªß</a>
                <a href="products.html">S·∫£n Ph·∫©m</a>
                <a href="about.html">V·ªÅ Ch√∫ng T√¥i</a>
                <div class="nav-icons">
                    <button class="icon-btn" data-page="cart">üõí<span class="cart-count" style="display: none;">0</span></button>
                    <button class="icon-btn" data-page="admin" title="Admin">üîí</button>
                </div>
            </nav>
        </div>
    </header>

    <div class="container">
        <section style="margin-top: 40px;">
            <h2>Gi·ªè H√†ng C·ªßa B·∫°n</h2>
            
            <div id="cartEmpty" style="text-align: center; padding: 60px 20px;">
                <p style="font-size: 1.2em; color: #666; margin-bottom: 20px;">Gi·ªè h√†ng c·ªßa b·∫°n tr·ªëng</p>
                <a href="products.html" class="btn">Ti·∫øp t·ª•c mua s·∫Øm</a>
            </div>

            <div id="cartContent" style="display: none;">
                <div style="display: grid; gap: 20px; margin-bottom: 40px;">
                    <div id="cartItems"></div>
                </div>

                <div style="background: white; padding: 30px; border-radius: 10px; max-width: 400px; margin-left: auto;">
                    <h3 style="margin-bottom: 20px;">T√≥m T·∫Øt ƒê∆°n H√†ng</h3>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>T·∫°m t√≠nh:</span>
                        <span id="subtotal">0ƒë</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #ddd;">
                        <span>Giao h√†ng:</span>
                        <span>Mi·ªÖn ph√≠</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 1.3em; font-weight: bold; margin-bottom: 30px;">
                        <span>T·ªïng:</span>
                        <span id="total">0ƒë</span>
                    </div>
                    <a href="checkout.html" class="btn" style="width: 100%; text-align: center;">Ti·∫øp t·ª•c thanh to√°n</a>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>V·ªÅ Cocoon</h3>
                <ul>
                    <li><a href="about.html">Gi·ªõi thi·ªáu th∆∞∆°ng hi·ªáu</a></li>
                    <li><a href="#">Gi√° tr·ªã Cocoon</a></li>
                    <li><a href="#">L·ªãch s·ª≠ ph√°t tri·ªÉn</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>H·ªó Tr·ª£</h3>
                <ul>
                    <li><a href="#">Li√™n h·ªá ch√∫ng t√¥i</a></li>
                    <li><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
                    <li><a href="#">Ch√≠nh s√°ch giao h√†ng</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Theo D√µi</h3>
                <ul>
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">TikTok</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Li√™n H·ªá</h3>
                <ul>
                    <li>Email: info@cocoon.vn</li>
                    <li>Hotline: 1900-xxxx</li>
                    <li>H√† N·ªôi, Vi·ªát Nam</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Cocoon - M·ªπ ph·∫©m Thu·∫ßn Chay. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
        </div>
    </footer>

    <script src="js/app.js"></script>
    <script>
        function renderCart() {
            const cartEmpty = document.getElementById('cartEmpty');
            const cartContent = document.getElementById('cartContent');
            const cartItems = document.getElementById('cartItems');

            if (cart.items.length === 0) {
                cartEmpty.style.display = 'block';
                cartContent.style.display = 'none';
                return;
            }

            cartEmpty.style.display = 'none';
            cartContent.style.display = 'block';
            cartItems.innerHTML = '';

            cart.items.forEach(item => {
                const html = `
                    <div style="display: flex; gap: 20px; background: white; padding: 20px; border-radius: 10px; align-items: center;">
                        <div style="font-size: 3em;">${item.emoji || 'üì¶'}</div>
                        <div style="flex: 1;">
                            <h3 style="margin-bottom: 5px;">${item.name}</h3>
                            <p style="color: #666; margin-bottom: 10px;">${new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.price)}</p>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button onclick="cart.updateQuantity(${item.id}, ${item.quantity - 1})" style="width: 30px; height: 30px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 3px;">-</button>
                            <input type="number" value="${item.quantity}" style="width: 50px; text-align: center; border: 1px solid #ddd; padding: 5px;" onchange="cart.updateQuantity(${item.id}, parseInt(this.value))">
                            <button onclick="cart.updateQuantity(${item.id}, ${item.quantity + 1})" style="width: 30px; height: 30px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 3px;">+</button>
                        </div>
                        <div style="text-align: right; min-width: 120px;">
                            <div style="font-weight: bold; margin-bottom: 10px;">${new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.price * item.quantity)}</div>
                            <button onclick="cart.removeItem(${item.id})" class="btn btn-small" style="background: #f44336;">X√≥a</button>
                        </div>
                    </div>
                `;
                cartItems.innerHTML += html;
            });

            updateTotals();
        }

        function updateTotals() {
            const subtotal = cart.getTotal();
            document.getElementById('subtotal').textContent = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(subtotal);
            document.getElementById('total').textContent = new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(subtotal);
        }

        renderCart();
        cart.updateCartCount();

        // Observer ƒë·ªÉ c·∫≠p nh·∫≠t khi gi·ªè h√†ng thay ƒë·ªïi
        setInterval(renderCart, 500);
    </script>
</body>
</html>
